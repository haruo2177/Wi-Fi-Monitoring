# 技術スタック（2025年8月2日更新）

## プログラミング言語・シェル

### メイン技術
- **Shell**: Zsh (macOS標準)
- **スクリプト**: Bash互換性維持
- **設定**: 環境変数ベース

### macOS特化機能
- **system_profiler**: Wi-Fi情報取得（現代的手法）
- **launchd**: バックグラウンド実行管理
- **route**: ネットワークルーティング情報
- **networksetup**: ネットワーク設定操作

## データフォーマット・ファイル

### データ管理
- **ログ**: CSV形式（汎用性・可読性）
- **設定**: Bash変数形式（.conf）
- **自動実行**: plist XML（launchd）

### ファイル構造
- **設定外部化**: config/network_monitor.conf
- **モジュール化**: scripts/ ディレクトリ分離
- **ドキュメント**: Markdown（README.md）

## ネットワーク監視技術

### Wi-Fi情報取得
- **主要手法**: system_profiler SPAirPortDataType
- **廃止技術**: airport コマンド（非推奨）
- **取得項目**: SSID, Signal, Noise, Channel, TransmitRate
- **制限事項**: BSSID（macOSセキュリティ制限）

### 接続監視
- **ルーター**: ping + 自動ゲートウェイ検出
- **外部接続**: 複数DNS（8.8.8.8, 1.1.1.1, 208.67.222.222）
- **フォールバック**: 接続失敗時の代替サーバー選択

## 自動化・デプロイメント

### macOS統合
- **launchd**: システムレベルスケジューリング
- **UserAgent**: ユーザーセッション内実行
- **権限**: 通常ユーザー（sudo不要）

### インストール自動化
- **環境検出**: ネットワーク設定自動発見
- **設定生成**: テンプレートベース
- **サービス登録**: plist自動配置・ロード

## 開発・保守性

### コード品質
- **モジュール設計**: 機能別スクリプト分離
- **エラーハンドリング**: 接続失敗・権限エラー対応
- **デバッグサポート**: DEBUG変数・詳細ログ

### 互換性・ポータビリティ
- **macOS専用**: Darwin kernel依存
- **シェル**: Zsh/Bash互換
- **設定**: 環境別カスタマイズ対応